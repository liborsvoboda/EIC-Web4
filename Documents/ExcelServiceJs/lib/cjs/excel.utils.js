'use strict';

exports.__esModule = true;
exports.convertValueType = exports.convertArrayBufferToString = exports.getColumns = undefined;

var _immutable = require('immutable');

var getColumns = exports.getColumns = function getColumns(columns, visibleColumns) {
  if (!_immutable.List.isList(visibleColumns)) {
    return columns;
  }
  var newColumns = [];
  visibleColumns.forEach(function (key) {
    var columnIndex = columns.findIndex(function (c) {
      return c.valueKeyPath.join('/') === key;
    });
    if (columnIndex !== -1) {
      newColumns.push(columns[columnIndex]);
    }
  });
  return newColumns;
};

var convertArrayBufferToString = exports.convertArrayBufferToString = function convertArrayBufferToString(data) {
  /* eslint-disable no-plusplus */
  var w = 10240;
  var str = '';
  var l = 0;
  for (l; l < data.byteLength / w; ++l) {
    str += String.fromCharCode.apply(null, new Uint8Array(data.slice(l * w, l * w + w)));
  }
  str += String.fromCharCode.apply(null, new Uint8Array(data.slice(l * w)));
  return str;
};

var convertValueType = exports.convertValueType = function convertValueType(value, type) {
  var VALUE_TYPES = {
    number: 'number',
    string: 'string'
  };
  switch (type) {
    case VALUE_TYPES.number:
      return Number(value);
    default:
      return String(value);
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9leGNlbC51dGlscy5qcyJdLCJuYW1lcyI6WyJnZXRDb2x1bW5zIiwiY29sdW1ucyIsInZpc2libGVDb2x1bW5zIiwiTGlzdCIsImlzTGlzdCIsIm5ld0NvbHVtbnMiLCJmb3JFYWNoIiwia2V5IiwiY29sdW1uSW5kZXgiLCJmaW5kSW5kZXgiLCJjIiwidmFsdWVLZXlQYXRoIiwiam9pbiIsInB1c2giLCJjb252ZXJ0QXJyYXlCdWZmZXJUb1N0cmluZyIsImRhdGEiLCJ3Iiwic3RyIiwibCIsImJ5dGVMZW5ndGgiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJhcHBseSIsIlVpbnQ4QXJyYXkiLCJzbGljZSIsImNvbnZlcnRWYWx1ZVR5cGUiLCJ2YWx1ZSIsInR5cGUiLCJWQUxVRV9UWVBFUyIsIm51bWJlciIsInN0cmluZyIsIk51bWJlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7QUFFTyxJQUFNQSxrQ0FBYSxTQUFiQSxVQUFhLENBQUNDLE9BQUQsRUFBVUMsY0FBVixFQUE2QjtBQUNyRCxNQUFJLENBQUNDLGdCQUFLQyxNQUFMLENBQVlGLGNBQVosQ0FBTCxFQUFrQztBQUNoQyxXQUFPRCxPQUFQO0FBQ0Q7QUFDRCxNQUFNSSxhQUFhLEVBQW5CO0FBQ0FILGlCQUFlSSxPQUFmLENBQXVCLFVBQUNDLEdBQUQsRUFBUztBQUM5QixRQUFNQyxjQUFjUCxRQUFRUSxTQUFSLENBQWtCO0FBQUEsYUFBS0MsRUFBRUMsWUFBRixDQUFlQyxJQUFmLENBQW9CLEdBQXBCLE1BQTZCTCxHQUFsQztBQUFBLEtBQWxCLENBQXBCO0FBQ0EsUUFBSUMsZ0JBQWdCLENBQUMsQ0FBckIsRUFBd0I7QUFDdEJILGlCQUFXUSxJQUFYLENBQWdCWixRQUFRTyxXQUFSLENBQWhCO0FBQ0Q7QUFDRixHQUxEO0FBTUEsU0FBT0gsVUFBUDtBQUNELENBWk07O0FBY0EsSUFBTVMsa0VBQTZCLFNBQTdCQSwwQkFBNkIsQ0FBQ0MsSUFBRCxFQUFVO0FBQ2xEO0FBQ0EsTUFBTUMsSUFBSSxLQUFWO0FBQ0EsTUFBSUMsTUFBTSxFQUFWO0FBQ0EsTUFBSUMsSUFBSSxDQUFSO0FBQ0EsT0FBS0EsQ0FBTCxFQUFRQSxJQUFJSCxLQUFLSSxVQUFMLEdBQWtCSCxDQUE5QixFQUFpQyxFQUFFRSxDQUFuQyxFQUFzQztBQUNwQ0QsV0FBT0csT0FBT0MsWUFBUCxDQUFvQkMsS0FBcEIsQ0FBMEIsSUFBMUIsRUFBZ0MsSUFBSUMsVUFBSixDQUFlUixLQUFLUyxLQUFMLENBQVdOLElBQUlGLENBQWYsRUFBbUJFLElBQUlGLENBQUwsR0FBVUEsQ0FBNUIsQ0FBZixDQUFoQyxDQUFQO0FBQ0Q7QUFDREMsU0FBT0csT0FBT0MsWUFBUCxDQUFvQkMsS0FBcEIsQ0FBMEIsSUFBMUIsRUFBZ0MsSUFBSUMsVUFBSixDQUFlUixLQUFLUyxLQUFMLENBQVdOLElBQUlGLENBQWYsQ0FBZixDQUFoQyxDQUFQO0FBQ0EsU0FBT0MsR0FBUDtBQUNELENBVk07O0FBWUEsSUFBTVEsOENBQW1CLFNBQW5CQSxnQkFBbUIsQ0FBQ0MsS0FBRCxFQUFRQyxJQUFSLEVBQWlCO0FBQy9DLE1BQU1DLGNBQWM7QUFDbEJDLFlBQVEsUUFEVTtBQUVsQkMsWUFBUTtBQUZVLEdBQXBCO0FBSUEsVUFBUUgsSUFBUjtBQUNFLFNBQUtDLFlBQVlDLE1BQWpCO0FBQ0UsYUFBT0UsT0FBT0wsS0FBUCxDQUFQO0FBQ0Y7QUFDRSxhQUFPTixPQUFPTSxLQUFQLENBQVA7QUFKSjtBQU1ELENBWE0iLCJmaWxlIjoiZXhjZWwudXRpbHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMaXN0IH0gZnJvbSAnaW1tdXRhYmxlJztcblxuZXhwb3J0IGNvbnN0IGdldENvbHVtbnMgPSAoY29sdW1ucywgdmlzaWJsZUNvbHVtbnMpID0+IHtcbiAgaWYgKCFMaXN0LmlzTGlzdCh2aXNpYmxlQ29sdW1ucykpIHtcbiAgICByZXR1cm4gY29sdW1ucztcbiAgfVxuICBjb25zdCBuZXdDb2x1bW5zID0gW107XG4gIHZpc2libGVDb2x1bW5zLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGNvbnN0IGNvbHVtbkluZGV4ID0gY29sdW1ucy5maW5kSW5kZXgoYyA9PiBjLnZhbHVlS2V5UGF0aC5qb2luKCcvJykgPT09IGtleSk7XG4gICAgaWYgKGNvbHVtbkluZGV4ICE9PSAtMSkge1xuICAgICAgbmV3Q29sdW1ucy5wdXNoKGNvbHVtbnNbY29sdW1uSW5kZXhdKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gbmV3Q29sdW1ucztcbn07XG5cbmV4cG9ydCBjb25zdCBjb252ZXJ0QXJyYXlCdWZmZXJUb1N0cmluZyA9IChkYXRhKSA9PiB7XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLXBsdXNwbHVzICovXG4gIGNvbnN0IHcgPSAxMDI0MDtcbiAgbGV0IHN0ciA9ICcnO1xuICBsZXQgbCA9IDA7XG4gIGZvciAobDsgbCA8IGRhdGEuYnl0ZUxlbmd0aCAvIHc7ICsrbCkge1xuICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGRhdGEuc2xpY2UobCAqIHcsIChsICogdykgKyB3KSkpO1xuICB9XG4gIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGRhdGEuc2xpY2UobCAqIHcpKSk7XG4gIHJldHVybiBzdHI7XG59O1xuXG5leHBvcnQgY29uc3QgY29udmVydFZhbHVlVHlwZSA9ICh2YWx1ZSwgdHlwZSkgPT4ge1xuICBjb25zdCBWQUxVRV9UWVBFUyA9IHtcbiAgICBudW1iZXI6ICdudW1iZXInLFxuICAgIHN0cmluZzogJ3N0cmluZycsXG4gIH07XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgVkFMVUVfVFlQRVMubnVtYmVyOlxuICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICB9XG59O1xuIl19