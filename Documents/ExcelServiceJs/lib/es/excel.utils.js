import { List } from 'immutable';

export var getColumns = function getColumns(columns, visibleColumns) {
  if (!List.isList(visibleColumns)) {
    return columns;
  }
  var newColumns = [];
  visibleColumns.forEach(function (key) {
    var columnIndex = columns.findIndex(function (c) {
      return c.valueKeyPath.join('/') === key;
    });
    if (columnIndex !== -1) {
      newColumns.push(columns[columnIndex]);
    }
  });
  return newColumns;
};

export var convertArrayBufferToString = function convertArrayBufferToString(data) {
  /* eslint-disable no-plusplus */
  var w = 10240;
  var str = '';
  var l = 0;
  for (l; l < data.byteLength / w; ++l) {
    str += String.fromCharCode.apply(null, new Uint8Array(data.slice(l * w, l * w + w)));
  }
  str += String.fromCharCode.apply(null, new Uint8Array(data.slice(l * w)));
  return str;
};

export var convertValueType = function convertValueType(value, type) {
  var VALUE_TYPES = {
    number: 'number',
    string: 'string'
  };
  switch (type) {
    case VALUE_TYPES.number:
      return Number(value);
    default:
      return String(value);
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9leGNlbC51dGlscy5qcyJdLCJuYW1lcyI6WyJMaXN0IiwiZ2V0Q29sdW1ucyIsImNvbHVtbnMiLCJ2aXNpYmxlQ29sdW1ucyIsImlzTGlzdCIsIm5ld0NvbHVtbnMiLCJmb3JFYWNoIiwia2V5IiwiY29sdW1uSW5kZXgiLCJmaW5kSW5kZXgiLCJjIiwidmFsdWVLZXlQYXRoIiwiam9pbiIsInB1c2giLCJjb252ZXJ0QXJyYXlCdWZmZXJUb1N0cmluZyIsImRhdGEiLCJ3Iiwic3RyIiwibCIsImJ5dGVMZW5ndGgiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJhcHBseSIsIlVpbnQ4QXJyYXkiLCJzbGljZSIsImNvbnZlcnRWYWx1ZVR5cGUiLCJ2YWx1ZSIsInR5cGUiLCJWQUxVRV9UWVBFUyIsIm51bWJlciIsInN0cmluZyIsIk51bWJlciJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsSUFBVCxRQUFxQixXQUFyQjs7QUFFQSxPQUFPLElBQU1DLGFBQWEsU0FBYkEsVUFBYSxDQUFDQyxPQUFELEVBQVVDLGNBQVYsRUFBNkI7QUFDckQsTUFBSSxDQUFDSCxLQUFLSSxNQUFMLENBQVlELGNBQVosQ0FBTCxFQUFrQztBQUNoQyxXQUFPRCxPQUFQO0FBQ0Q7QUFDRCxNQUFNRyxhQUFhLEVBQW5CO0FBQ0FGLGlCQUFlRyxPQUFmLENBQXVCLFVBQUNDLEdBQUQsRUFBUztBQUM5QixRQUFNQyxjQUFjTixRQUFRTyxTQUFSLENBQWtCO0FBQUEsYUFBS0MsRUFBRUMsWUFBRixDQUFlQyxJQUFmLENBQW9CLEdBQXBCLE1BQTZCTCxHQUFsQztBQUFBLEtBQWxCLENBQXBCO0FBQ0EsUUFBSUMsZ0JBQWdCLENBQUMsQ0FBckIsRUFBd0I7QUFDdEJILGlCQUFXUSxJQUFYLENBQWdCWCxRQUFRTSxXQUFSLENBQWhCO0FBQ0Q7QUFDRixHQUxEO0FBTUEsU0FBT0gsVUFBUDtBQUNELENBWk07O0FBY1AsT0FBTyxJQUFNUyw2QkFBNkIsU0FBN0JBLDBCQUE2QixDQUFDQyxJQUFELEVBQVU7QUFDbEQ7QUFDQSxNQUFNQyxJQUFJLEtBQVY7QUFDQSxNQUFJQyxNQUFNLEVBQVY7QUFDQSxNQUFJQyxJQUFJLENBQVI7QUFDQSxPQUFLQSxDQUFMLEVBQVFBLElBQUlILEtBQUtJLFVBQUwsR0FBa0JILENBQTlCLEVBQWlDLEVBQUVFLENBQW5DLEVBQXNDO0FBQ3BDRCxXQUFPRyxPQUFPQyxZQUFQLENBQW9CQyxLQUFwQixDQUEwQixJQUExQixFQUFnQyxJQUFJQyxVQUFKLENBQWVSLEtBQUtTLEtBQUwsQ0FBV04sSUFBSUYsQ0FBZixFQUFtQkUsSUFBSUYsQ0FBTCxHQUFVQSxDQUE1QixDQUFmLENBQWhDLENBQVA7QUFDRDtBQUNEQyxTQUFPRyxPQUFPQyxZQUFQLENBQW9CQyxLQUFwQixDQUEwQixJQUExQixFQUFnQyxJQUFJQyxVQUFKLENBQWVSLEtBQUtTLEtBQUwsQ0FBV04sSUFBSUYsQ0FBZixDQUFmLENBQWhDLENBQVA7QUFDQSxTQUFPQyxHQUFQO0FBQ0QsQ0FWTTs7QUFZUCxPQUFPLElBQU1RLG1CQUFtQixTQUFuQkEsZ0JBQW1CLENBQUNDLEtBQUQsRUFBUUMsSUFBUixFQUFpQjtBQUMvQyxNQUFNQyxjQUFjO0FBQ2xCQyxZQUFRLFFBRFU7QUFFbEJDLFlBQVE7QUFGVSxHQUFwQjtBQUlBLFVBQVFILElBQVI7QUFDRSxTQUFLQyxZQUFZQyxNQUFqQjtBQUNFLGFBQU9FLE9BQU9MLEtBQVAsQ0FBUDtBQUNGO0FBQ0UsYUFBT04sT0FBT00sS0FBUCxDQUFQO0FBSko7QUFNRCxDQVhNIiwiZmlsZSI6ImV4Y2VsLnV0aWxzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTGlzdCB9IGZyb20gJ2ltbXV0YWJsZSc7XG5cbmV4cG9ydCBjb25zdCBnZXRDb2x1bW5zID0gKGNvbHVtbnMsIHZpc2libGVDb2x1bW5zKSA9PiB7XG4gIGlmICghTGlzdC5pc0xpc3QodmlzaWJsZUNvbHVtbnMpKSB7XG4gICAgcmV0dXJuIGNvbHVtbnM7XG4gIH1cbiAgY29uc3QgbmV3Q29sdW1ucyA9IFtdO1xuICB2aXNpYmxlQ29sdW1ucy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBjb25zdCBjb2x1bW5JbmRleCA9IGNvbHVtbnMuZmluZEluZGV4KGMgPT4gYy52YWx1ZUtleVBhdGguam9pbignLycpID09PSBrZXkpO1xuICAgIGlmIChjb2x1bW5JbmRleCAhPT0gLTEpIHtcbiAgICAgIG5ld0NvbHVtbnMucHVzaChjb2x1bW5zW2NvbHVtbkluZGV4XSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG5ld0NvbHVtbnM7XG59O1xuXG5leHBvcnQgY29uc3QgY29udmVydEFycmF5QnVmZmVyVG9TdHJpbmcgPSAoZGF0YSkgPT4ge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1wbHVzcGx1cyAqL1xuICBjb25zdCB3ID0gMTAyNDA7XG4gIGxldCBzdHIgPSAnJztcbiAgbGV0IGwgPSAwO1xuICBmb3IgKGw7IGwgPCBkYXRhLmJ5dGVMZW5ndGggLyB3OyArK2wpIHtcbiAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheShkYXRhLnNsaWNlKGwgKiB3LCAobCAqIHcpICsgdykpKTtcbiAgfVxuICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheShkYXRhLnNsaWNlKGwgKiB3KSkpO1xuICByZXR1cm4gc3RyO1xufTtcblxuZXhwb3J0IGNvbnN0IGNvbnZlcnRWYWx1ZVR5cGUgPSAodmFsdWUsIHR5cGUpID0+IHtcbiAgY29uc3QgVkFMVUVfVFlQRVMgPSB7XG4gICAgbnVtYmVyOiAnbnVtYmVyJyxcbiAgICBzdHJpbmc6ICdzdHJpbmcnLFxuICB9O1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFZBTFVFX1RZUEVTLm51bWJlcjpcbiAgICAgIHJldHVybiBOdW1iZXIodmFsdWUpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgfVxufTtcbiJdfQ==